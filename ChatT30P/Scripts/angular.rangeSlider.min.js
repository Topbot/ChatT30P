(function(){"use strict";var n=angular.version.major===1&&angular.version.minor===0;angular.module("ui-rangeSlider",[]).directive("rangeSlider",["$document","$filter","$log",function(t,i,r){var u=".rangeSlider",f={disabled:!1,orientation:"horizontal",step:0,decimalPlaces:0,showValues:!0,preventEqualMinMax:!1,attachHandleValues:!1},e=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup",over:"pointerdown",out:"mouseout"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",over:"MSPointerDown",out:"mouseout"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend",over:"mouseover touchstart",out:"mouseout"},v=e.start+u,c=e.move+u,l=e.end+u,y=e.over+u,p=e.out+u,a=function(n){try{return[n.clientX||n.originalEvent.clientX||n.originalEvent.touches[0].clientX,n.clientY||n.originalEvent.clientY||n.originalEvent.touches[0].clientY]}catch(t){return["x","y"]}},h=function(n){return n<0?0:n>100?100:n},o=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},s={disabled:"=?",min:"=",max:"=",modelMin:"=?",modelMax:"=?",onHandleDown:"&",handleup:"&",orientation:"@",step:"@",decimalPlaces:"@",filter:"@",filterOptions:"@",showValues:"@",pinHandle:"@",preventEqualMinMax:"@",attachHandleValues:"@",getterSetter:"@"};return n&&(s.disabled="=",s.modelMin="=",s.modelMax="="),{restrict:"A",replace:!0,template:'<div class="ngrs-range-slider"><div class="ngrs-runner"><div class="ngrs-handle ngrs-handle-min"><i><\/i><\/div><div class="ngrs-handle ngrs-handle-max"><i><\/i><\/div><div class="ngrs-join"><\/div><\/div><div class="ngrs-value-runner"><div class="ngrs-value ngrs-value-min"><div>{{filteredModelMin}}<\/div><\/div><div class="ngrs-value ngrs-value-max"><div>{{filteredModelMax}}<\/div><\/div><\/div><\/div>',scope:s,link:function(n,e,s){function w(t){return n.getterSetter?arguments.length?n.modelMin(t):n.modelMin():arguments.length?n.modelMin=t:n.modelMin}function b(t){return n.getterSetter?arguments.length?n.modelMax(t):n.modelMax():arguments.length?n.modelMax=t:n.modelMax}function at(n){n==="min"?(angular.element(k[0]).css("display","none"),angular.element(k[1]).css("display","block")):n==="max"?(angular.element(k[0]).css("display","block"),angular.element(k[1]).css("display","none")):(angular.element(k[0]).css("display","block"),angular.element(k[1]).css("display","block"))}function vt(n){n?g.addClass("ngrs-disabled"):g.removeClass("ngrs-disabled")}function ht(){n.min>n.max&&et("min must be less than or equal to max");angular.isDefined(n.min)&&angular.isDefined(n.max)&&(o(n.min)||et("min must be a number"),o(n.max)||et("max must be a number"),nt=n.max-n.min,lt=[n.min,n.max],ft())}function ft(){var t,r,s,c;if(w()>b()&&(ot("modelMin must be less than or equal to modelMax"),w(b())),(angular.isDefined(w())||n.pinHandle==="min")&&(angular.isDefined(b())||n.pinHandle==="max")){if(o(w())||(n.pinHandle!=="min"&&ot("modelMin must be a number"),w(n.min)),o(b())||(n.pinHandle!=="max"&&ot("modelMax must be a number"),b(n.max)),t=h((w()-n.min)/nt*100),r=h((b()-n.min)/nt*100),n.attachHandleValues&&(s=t,c=r),w(Math.max(n.min,w())),b(Math.min(n.max,b())),n.filter&&n.filterOptions)n.filteredModelMin=i(n.filter)(w(),n.filterOptions),n.filteredModelMax=i(n.filter)(b(),n.filterOptions);else if(n.filter){var a=n.filter.split(":"),l=n.filter.split(":")[0],u=a.slice().slice(1),f,e;u=u.map(function(n){return o(n)?+n:n[0]=='"'&&n[n.length-1]=='"'||n[0]=="'"&&n[n.length-1]=="'"?n.slice(1,-1):void 0});f=u.slice();e=u.slice();f.unshift(w());e.unshift(b());n.filteredModelMin=i(l).apply(null,f);n.filteredModelMax=i(l).apply(null,e)}else n.filteredModelMin=w(),n.filteredModelMax=b();n.min===n.max&&w()==b()?(angular.element(k[0]).css(d,"0%"),angular.element(k[1]).css(d,"100%"),n.attachHandleValues&&(angular.element(tt[0]).css(d,"0%"),angular.element(tt[1]).css(d,"100%")),angular.element(st).css(d,"0%").css(it,"0%")):(angular.element(k[0]).css(d,t+"%"),angular.element(k[1]).css(d,r+"%"),n.attachHandleValues&&(angular.element(tt[0]).css(d,s+"%"),angular.element(tt[1]).css(d,c+"%"),angular.element(tt[1]).css(it,"auto")),angular.element(st).css(d,t+"%").css(it,100-r+"%"),t>95&&angular.element(k[0]).css("z-index",3))}}function ct(i){var r=k[i];r.bind(v+"X",function(f){var s=(i===0?"ngrs-handle-min":"ngrs-handle-max")+"-down",y=(i===0?w():b())-n.min,p=y/nt*100,e=a(f),o=e,v=!1;angular.isFunction(n.onHandleDown)&&n.onHandleDown();angular.element("body").bind("selectstart"+u,function(){return!1});n.disabled||(ut=!0,r.addClass("ngrs-down"),g.addClass("ngrs-focus "+s),angular.element("body").addClass("ngrs-touching"),t.bind(c,function(t){t.preventDefault();var s=a(t),l,u,c=n.step/nt*100,f=((i===0?b():w())-n.min)/nt*100;s[0]!=="x"&&(s[0]-=e[0],s[1]-=e[1],l=[o[0]!==s[0],o[1]!==s[1]],u=p+s[rt]*100/(rt?g.height():g.width()),u=h(u),n.preventEqualMinMax&&(c===0&&(c=100/nt),i===0?f=f-c:i===1&&(f=f+c)),i===0?u=u>f?f:u:i===1&&(u=u<f?f:u),n.step>0&&u<100&&u>0&&(u=Math.round(u/c)*c),u>95&&i===0?r.css("z-index",3):r.css("z-index",""),l[rt]&&u!=v&&(i===0?w(parseFloat(parseFloat(u*nt/100+n.min).toFixed(n.decimalPlaces))):i===1&&b(parseFloat(parseFloat(u*nt/100+n.min).toFixed(n.decimalPlaces))),n.$apply(),v=u),o=s)}).bind(l,function(){angular.isFunction(n.handleup)&&n.handleup();t.off(c);t.off(l);angular.element("body").removeClass("ngrs-touching");ut=!1;r.removeClass("ngrs-down");r.removeClass("ngrs-over");g.removeClass("ngrs-focus "+s)}))}).on(y,function(){r.addClass("ngrs-over")}).on(p,function(){ut||r.removeClass("ngrs-over")})}function et(t){n.disabled=!0;throw new Error("RangeSlider: "+t);}function ot(n){r.warn(n)}var g=angular.element(e),k=[e.find(".ngrs-handle-min"),e.find(".ngrs-handle-max")],tt=[e.find(".ngrs-value-min"),e.find(".ngrs-value-max")],st=e.find(".ngrs-join"),d="left",it="right",rt=0,lt=[0,0],nt=0,ut=!1;n.filteredModelMin=w();n.filteredModelMax=b();s.$observe("disabled",function(t){angular.isDefined(t)||(n.disabled=f.disabled);n.$watch("disabled",vt)});s.$observe("orientation",function(t){var i,u,r,e;for(angular.isDefined(t)||(n.orientation=f.orientation),i=n.orientation.split(" "),r=0,e=i.length;r<e;r++)i[r]="ngrs-"+i[r];u=i.join(" ");g.addClass(u);(n.orientation==="vertical"||n.orientation==="vertical left"||n.orientation==="vertical right")&&(d="top",it="bottom",rt=1)});s.$observe("step",function(t){angular.isDefined(t)||(n.step=f.step)});s.$observe("decimalPlaces",function(t){angular.isDefined(t)||(n.decimalPlaces=f.decimalPlaces)});s.$observe("showValues",function(t){n.showValues=angular.isDefined(t)?t==="false"?!1:!0:f.showValues});s.$observe("pinHandle",function(t){n.pinHandle=angular.isDefined(t)?t==="min"||t==="max"?t:null:null;n.$watch("pinHandle",at)});s.$observe("preventEqualMinMax",function(t){n.preventEqualMinMax=angular.isDefined(t)?t==="false"?!1:!0:f.preventEqualMinMax});s.$observe("attachHandleValues",function(t){angular.isDefined(t)?t==="true"||t===""?(n.attachHandleValues=!0,e.find(".ngrs-value-runner").addClass("ngrs-attached-handles")):n.attachHandleValues=!1:n.attachHandleValues=f.attachHandleValues});n.$watch("min",ht);n.$watch("max",ht);n.$watch(function(){return w()},ft);n.$watch(function(){return b()},ft);n.$on("$destroy",function(){g.off(u);angular.element("body").off(u);t.off(u);for(var n=0,i=k.length;n<i;n++)k[n].off(u),k[n].off(u+"X")});g.bind("selectstart"+u,function(){return!1}).bind("click",function(n){n.stopPropagation()});ct(0);ct(1)}}}]);window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}()})();