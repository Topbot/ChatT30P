<div id="wrap">
    <div data-ng-include="" src="'views/shared/_nav.html'"></div>
    <div class="container admin-views-main admin-views-content-comments" data-ng-controller="LinkedAccountsController">
        <div id="modal-add-new" class="modal fade" data-ng-include="" src="'views/shared/_addnew.html'"></div>
        <!--<div id="modal-rowview" class="modal fade" data-ng-include="" src="'views/shared/_rowview.html'"></div>-->
        <div class="page-header clearfix">
            <h2 class="page-title pull-left">
                <img src="https://www.t30p.ru/app_themes/basic/i/ico_youtube.png" height="20" width="28" alt="Telegram"/> Мониторинг приватных чатов Телеграм:
            </h2>
            <!--<script src="https://apis.google.com/js/platform.js" async="true" defer="true"></script>-->
            <div class="pull-right bottom">
                <!--<div class="g-ytsubscribe" data-channel="wwwt30pru" data-layout="default" data-count="default"></div>--><a data-ng-click="addNew()" title="Добавить" class="btn btn-success btn-header"><i class="fa fa-plus"></i>Добавить</a>
                <a href="https://light.t30p.ru" target="_blank" title="Топ видео" class="btn btn-warning btn-header"><i class="fa fa-video-camera"></i>Топ видео</a>
            </div>
        </div>
        <div class="toolbar-grid clearfix">
            <!--<div class="pull-left" style="width: 120px;">
                <button data-ng-click="processChecked('delete')" ng-disabled="hasChecked() === false" class="btn btn-danger btn-sm"><i class="fa fa-times"></i>{{lbl.doDelete}}</button>
            </div>-->
            <div class="pull-left">
                <h5>Подписчиков</h5>
            </div>
            <div class="pull-left clearfix" style="width: 300px;">
                <div range-slider getter-setter="true"
                     prevent-equal-min-max step="{{sliderConfig.step}}"
                     min="sliderConfig.min" max="sliderConfig.max"
                     model-min="sliderConfig.userMin" model-max="sliderConfig.userMax"
                     filter="number" disabled="sliderConfig.disabled"></div>
            </div>
            <div class="pull-right btn-flt-r hmin767"><button class="btn btn-default btn-sm"><i class="fa fa-cog fa-lg"></i><span>{{lbl.filter}}</span></button></div>
            <div class="pull-right filterbar flt-r clearfix">
                <div class="active-flt-r"></div>
                <div class="navbar-left search-grid pull-right">
                    <input type="text" ng-model="query" ng-change="search()" class="input-sm form-control pull-right" placeholder="{{lbl.search}}" />
                </div>
                    <div class="btn-toolbar pull-right">
                        <button id="fltr-s" class="btn btn-default btn-sm" ng-click="gridFilterShorts()"><i class="fa fa-mobile-phone"></i>Каналы только с SHORTS</button>
                    </div>
                    <span class="pull-right lbl-show hmax992">{{lbl.show}} :</span>
                    <br />
                    <span class="pull-left lbl-show hmax992">Фильтр по категории:</span>
                    <div ng-dropdown-multiselect="" options="topics" translation-texts="dropdowntexts"
                            events="dropdownevents"
                            selected-model="dropdownmodel" extra-settings="dropdownsettings" class="btn-toolbar pull-left"></div>
                    <span class="pull-left lbl-show hmax992">Фильтр по стране:</span>
                    <div ng-dropdown-multiselect="" options="dropdownoptions" translation-texts="dropdowntextscountry"
                            events="dropdownevents"
                            selected-model="dropdownmodelcountry" extra-settings="dropdownsettingscountry" class="btn-toolbar pull-left"></div>
                </div>
                </div>
                <div class="text-left pagination-wrapper">
                    <ul class="pagination pagination-sm">
                        <li data-ng-class="{disabled: currentPage == 0}">
                            <a data-ng-click="prevPage()">« {{lbl.prev}}</a>
                        </li>
                        <li ng-if="showPage(n, currentPage, pagedItems.length)" data-ng-repeat="n in range(pagedItems.length)" data-ng-class="{active: n == currentPage}" data-ng-click="setPage()">
                            <a data-ng-bind="n + 1">1</a>
                        </li>
                        <li data-ng-class="{disabled: currentPage == pagedItems.length - 1}">
                            <a data-ng-click="nextPage()">{{lbl.next}} »</a>
                        </li>
                    </ul>
                </div>
                <table class="table table-bordered table-striped table-hover table-responsive">
                    <thead>
                        <tr>
                            <!--<th>
        <input type="checkbox" id="chkAll" data-ng-click="checkAll($event)" />
    </th>-->
                            <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                            <th class="table-item-title">Имя и Описание<a data-ng-click="sort_by('N',$event)"><i class="fa fa-sort"></i></a><br />({{filteredItems.length}} блогеров, 📧 - есть почта для связи)</th>
                            <th>Подписчиков <a data-ng-click="sort_by('M',$event)"><i class="fa fa-sort"></i></a></th>
                            <th class="hmax580" title="Общее число загруженных авторором видео клипов">Всего роликов<a data-ng-click="sort_by('U',$event)"><i class="fa fa-sort"></i></a></th>
                            <th class="hmax580" title="Сколько выложил videos за 3 месяца и они получили просмотров">Видео за 3 месяца<a data-ng-click="sort_by('U3',$event)"><i class="fa fa-sort"></i></a></th>
                            <th class="hmax580" title="Сколько выложил shorts за 3 месяца и они получили просмотров">Shorts за 3 месяца<a data-ng-click="sort_by('S3',$event)"><i class="fa fa-sort"></i></a></th>
                            <th class="hmax580" title="Общее число просмотров на канале">Просмотров суммарно<a data-ng-click="sort_by('V',$event)"><i class="fa fa-sort"></i></a></th>
                            <th class="hmax580" title="Среднее число просмотров">Просмотров на видео<a data-ng-click="sort_by('VA',$event)"><i class="fa fa-sort"></i></a></th>
                            <th class="hmax580" title="Лайков на 5 роликов">Лайков на 5 роликов<a data-ng-click="sort_by('L',$event)"><i class="fa fa-sort"></i></a></th>
                            <th class="hmax768" title="Дизлайков на 5 роликов">Дизов на 5 роликов<a data-ng-click="sort_by('D',$event)"><i class="fa fa-sort"></i></a></th>
                            <th class="hmax768">Дата регистрации<a data-ng-click="sort_by('R',$event)"><i class="fa fa-sort"></i></a></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-repeat="item in pagedItems[currentPage] | orderBy:sortingOrder:reverse">
                            <!--<td> <input type="checkbox" data-ng-model="item.IsChecked" /> </td>-->
                            <td class="table-item-avatar"><img ng-src="https://www.t30p.ru/a.ashx?youtube.com/channel/{{item.Id}}" alt="{{item.Id}}" /></td>
                            <td class="table-item-title">
                                <a title="{{item.N}}" class="pull-left" target="_blank" href="https://youtube.com/channel/{{item.Id}}"> <span class="text-ellipsis" ng-bind-html="item.N"></span></a><i ng-if="item.T">&nbsp;&nbsp;{{item.T}}</i>
                                <br />
                                {{item.A | limitTo: 200 }}<a title="{{item.N}}" class="external-link pull-right" target="_blank" href="https://www.youtube.com/channel/{{item.Id}}"> <i class="fa fa-external-link"></i> </a>
                            </td>
                            <td><span class="text-ellipsis-sm text-ellipsis">{{item.M| number}}</span></td>
                            <td class="hmax580"><span class="text-ellipsis-sm text-ellipsis">{{item.U| number}}</span></td>
                            <td class="hmax580"><span class="text-ellipsis-sm text-ellipsis">{{item.U3| number}}<br /><span ng-if="item.U3V>0" class="text-ellipsis-sm text-ellipsis">({{item.U3V| number}})</span></span></td>
                            <td class="hmax580"><span class="text-ellipsis-sm text-ellipsis">{{item.S3| number}}<br /><span ng-if="item.S3V>0" class="text-ellipsis-sm text-ellipsis">({{item.S3V| number}})</span></span></td>
                            <td class="hmax580"><span class="text-ellipsis-sm text-ellipsis">{{item.V| number}}</span></td>
                            <td class="hmax580"><span class="text-ellipsis-sm text-ellipsis">{{item.VA| number}}</span></td>
                            <td class="hmax580">
                                <span class="text-ellipsis-sm text-ellipsis" ng-if="item.L">{{item.L| number}}</span><br />
                                <span ng-if="item.D > 0" ng-class="'green'">
                                    {{ (item.L / (item.L + item.D) * 100) | number:1 }}%
                                </span>
                            </td>
                            <td class="hmax768">
                                <span class="text-ellipsis-sm text-ellipsis" ng-if="item.D">{{item.D| number}}</span><br />
                                <span ng-if="item.D > 0" ng-class="'red'">
                                    {{ (item.D / (item.L + item.D) * 100) | number:1 }}%
                                </span>
                            </td>
                            <td class="hmax768">
                                <span class="text-ellipsis-sm text-ellipsis">{{item.R}}</span><br />
                                <span ng-if="item.c" class="flag flag-{{item.c | lowercase}}" title="{{getCountry(item.c)}}" />
                            </td>

                        </tr>
                        <tr id="tr-spinner"><td colspan="13"><div id="div-spinner"><i class="fa fa-spinner fa-spin"></i>&nbsp;&nbsp;{{lbl.loadingText}}&nbsp;&nbsp;(осталось <span id="counter">120</span> секунд)</div></td></tr>
                    </tbody>
                </table>
                <div class="text-left pagination-wrapper">
                    <ul class="pagination pagination-sm">
                        <li data-ng-class="{disabled: currentPage == 0}">
                            <a data-ng-click="prevPage()">« {{lbl.prev}}</a>
                        </li>
                        <li ng-if="showPage(n, currentPage, pagedItems.length)" data-ng-repeat="n in range(pagedItems.length)" data-ng-class="{active: n == currentPage}" data-ng-click="setPage()">
                            <a data-ng-bind="n + 1">1</a>
                        </li>
                        <li data-ng-class="{disabled: currentPage == pagedItems.length - 1}">
                            <a data-ng-click="nextPage()">{{lbl.next}} »</a>
                        </li>
                    </ul>
                </div>
            </div>
</div>
<div id="footer" data-ng-include src="'views/shared/_footer.html?v=2'"></div>
